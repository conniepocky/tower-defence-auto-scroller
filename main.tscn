[gd_scene load_steps=17 format=4 uid="uid://cje4siaycxq73"]

[ext_resource type="Texture2D" uid="uid://ceac6m1iurrfk" path="res://platforms.png" id="1_lquwl"]
[ext_resource type="Script" uid="uid://37it3n683gea" path="res://player.gd" id="2_h2yge"]
[ext_resource type="Texture2D" uid="uid://c23nmjy3rd7cu" path="res://merlin_.png" id="4_lquwl"]
[ext_resource type="Script" uid="uid://cgh8g6xko4f57" path="res://spawner.gd" id="5_lquwl"]
[ext_resource type="FontFile" uid="uid://dpglrsp33l377" path="res://bitbybit_ [Font].ttf" id="6_5vw27"]
[ext_resource type="Script" uid="uid://cs1h7waeesylw" path="res://card_manager.gd" id="6_7mycd"]
[ext_resource type="AudioStream" uid="uid://dduwqm5p2sid3" path="res://sound/01_Power down_v1.wav" id="6_272bh"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_7mycd"]
texture = ExtResource("1_lquwl")
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 0.9892292, 8, 8, -8, 8)
1:0/0 = 0
1:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 0.9892292, 8, 8, -8, 8)
2:0/0 = 0
2:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 0.9892292, 8, 8, -8, 8)
0:1/0 = 0
0:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 0.9892292, 8, 8, -8, 8)
1:1/0 = 0
1:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 0.9892292, 8, 8, -8, 8)
2:1/0 = 0
2:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 0.9892292, 8, 8, -8, 8)
0:2/0 = 0
0:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 0.9892292, 8, 8, -8, 8)
1:2/0 = 0
1:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 0.9892292, 8, 8, -8, 8)
2:2/0 = 0
2:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 0.9892292, 8, 8, -8, 8)
0:3/0 = 0
0:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 0.9892292, 8, 8, -8, 8)
1:3/0 = 0
1:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 0.9892292, 8, 8, -8, 8)
2:3/0 = 0
2:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 0.9892292, 8, 8, -8, 8)

[sub_resource type="TileSet" id="TileSet_h2yge"]
physics_layer_0/collision_layer = 1
sources/1 = SubResource("TileSetAtlasSource_7mycd")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_h2yge"]
size = Vector2(20, 22)

[sub_resource type="GDScript" id="GDScript_lquwl"]
script/source = "extends Camera2D

var scroll_speed = 100

# Called when the node enters the scene tree for the first time.
func _ready() -> void:
	pass # Replace with function body.
"

[sub_resource type="AtlasTexture" id="AtlasTexture_7mycd"]
atlas = ExtResource("4_lquwl")
region = Rect2(0, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_272bh"]
atlas = ExtResource("4_lquwl")
region = Rect2(32, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_5vw27"]
atlas = ExtResource("4_lquwl")
region = Rect2(64, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_kek77"]
atlas = ExtResource("4_lquwl")
region = Rect2(96, 0, 32, 32)

[sub_resource type="SpriteFrames" id="SpriteFrames_4c57u"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_7mycd")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_272bh")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5vw27")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_kek77")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[node name="Node2D" type="Node2D"]

[node name="TileMapLayer" type="TileMapLayer" parent="."]
texture_filter = 1
tile_map_data = PackedByteArray("AAACAAIAAAARAAcAAAD5////AQABAAMAAAD6////AQACAAMAAAD7////AQABAAMAAAD8////AQACAAMAAAD9////AQABAAMAAAD+////AQACAAMAAAABAP//AQABAAMAAAACAP//AQACAAMAAAADAP//AQABAAMAAAAEAP//AQACAAMAAAAFAP//AQABAAMAAAAGAP//AQACAAMAAAAHAP//AQABAAIAAAAIAP//AQACAAIAAAAJAP//AQABAAIAAAAKAP//AQACAAIAAAALAP//AQABAAIAAAAMAP//AQACAAIAAAANAP//AQABAAIAAAAOAP//AQACAAIAAAAPAP//AQABAAIAAAAQAP//AQACAAIAAAARAP//AQABAAIAAAASAP//AQACAAIAAAATAP//AQABAAIAAAAUAP//AQACAAIAAAAVAP//AQABAAIAAAAWAP//AQACAAIAAAAXAP//AQABAAIAAAAYAP//AQACAAIAAAAZAP//AQABAAIAAAAaAP//AQACAAIAAAAdAP//AQABAAIAAAAeAP//AQACAAIAAAAfAP//AQABAAIAAAAgAP//AQACAAIAAAAhAP//AQABAAIAAAAiAP//AQACAAIAAAAjAP//AQABAAIAAAAkAP//AQACAAIAAAAlAP//AQABAAAAAAAmAP//AQACAAAAAAAnAP//AQABAAAAAAAoAP//AQACAAAAAAApAP//AQABAAAAAAAqAP//AQACAAAAAAArAP//AQABAAAAAAAsAP//AQACAAAAAAAtAP//AQABAAAAAAAuAP//AQACAAAAAAAvAP//AQABAAAAAAAwAP//AQACAAAAAAAxAP//AQABAAAAAAAyAP//AQACAAAAAAAzAP//AQABAAAAAAA0AP//AQACAAAAAAA1AP//AQABAAAAAAA2AP//AQACAAAAAAA3AP//AQABAAAAAAA4AP//AQACAAAAAAA5AP//AQABAAAAAAA6AP//AQACAAAAAAA7AP//AQABAAAAAAA8AP//AQACAAAAAAA9AP//AQABAAAAAAA+AP//AQABAAAAAAA/AP//AQACAAAAAABAAP//AQABAAAAAABBAP//AQACAAAAAABCAP//AQABAAAAAABDAP//AQACAAAAAABEAP//AQABAAAAAABFAP//AQACAAAAAABGAP//AQABAAAAAABHAP//AQACAAAAAABIAP//AQABAAAAAABJAP//AQACAAAAAABKAP//AQABAAAAAABLAP//AQACAAAAAABMAP//AQABAAAAAABNAP//AQACAAAAAABOAP//AQABAAAAAABPAP//AQACAAAAAABQAP//AQABAAAAAABRAP//AQACAAAAAABSAP//AQABAAAAAABTAP//AQACAAAAAABUAP//AQABAAAAAABVAP//AQACAAAAAAAbAP//AQABAAIAAAAcAP//AQACAAIAAAD/////AQABAAMAAAAAAP//AQACAAMAAAA=")
tile_set = SubResource("TileSet_h2yge")

[node name="Player" type="CharacterBody2D" parent="." groups=["player"]]
process_mode = 3
script = ExtResource("2_h2yge")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Player"]
position = Vector2(-98, -32)
shape = SubResource("RectangleShape2D_h2yge")

[node name="Camera2D" type="Camera2D" parent="Player"]
zoom = Vector2(5, 5)
drag_vertical_offset = -0.57
script = SubResource("GDScript_lquwl")

[node name="Marker2D" type="Marker2D" parent="Player/Camera2D"]
position = Vector2(125, -43)
script = ExtResource("5_lquwl")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="Player"]
texture_filter = 1
position = Vector2(-97.00001, -36)
scale = Vector2(1.2812502, 1.2499999)
sprite_frames = SubResource("SpriteFrames_4c57u")
autoplay = "default"
frame = 3
frame_progress = 1.0

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="HBoxContainer" type="HBoxContainer" parent="CanvasLayer"]
anchors_preset = 12
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 1.0
offset_top = -81.0
offset_right = 1.0
offset_bottom = -49.0
grow_horizontal = 2
grow_vertical = 0
scale = Vector2(2.9554567, 2.4406908)
script = ExtResource("6_7mycd")

[node name="Button" type="Button" parent="CanvasLayer/HBoxContainer"]
layout_mode = 2
theme_override_fonts/font = ExtResource("6_5vw27")
text = "Card 1"

[node name="Button3" type="Button" parent="CanvasLayer/HBoxContainer"]
layout_mode = 2
theme_override_fonts/font = ExtResource("6_5vw27")
text = "Card 1"

[node name="Button2" type="Button" parent="CanvasLayer/HBoxContainer"]
layout_mode = 2
theme_override_fonts/font = ExtResource("6_5vw27")
text = "Card 1"

[node name="HBoxContainer2" type="HBoxContainer" parent="CanvasLayer"]
texture_filter = 1
offset_right = 40.0
offset_bottom = 40.0
scale = Vector2(2.5470316, 2.5295136)

[node name="HealthLabel" type="Label" parent="CanvasLayer/HBoxContainer2"]
unique_name_in_owner = true
modulate = Color(0.8771302, 0.44232845, 0.9942425, 1)
texture_filter = 1
layout_mode = 2
theme_override_fonts/font = ExtResource("6_5vw27")
text = "Health: 10"

[node name="ActiveCardLabel" type="Label" parent="CanvasLayer/HBoxContainer2" groups=["card_label"]]
unique_name_in_owner = true
layout_mode = 2
theme_override_fonts/font = ExtResource("6_5vw27")
text = "Active Card: None"

[node name="PlayerHurtSFX" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("6_272bh")

[node name="StartLayer" type="CanvasLayer" parent="."]

[node name="StartScreen" type="ColorRect" parent="StartLayer"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(1.0230381, 1.040947)
color = Color(0.29402778, 0.29402778, 0.29402775, 1)

[node name="Label" type="Label" parent="StartLayer/StartScreen"]
texture_filter = 1
layout_mode = 1
anchors_preset = 10
anchor_right = 1.0
offset_bottom = 24.0
grow_horizontal = 2
scale = Vector2(6.6872425, 6.366303)
theme_override_fonts/font = ExtResource("6_5vw27")
text = "WELCOME"

[node name="Label2" type="Label" parent="StartLayer/StartScreen"]
texture_filter = 1
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -44.5
offset_top = -13.5
offset_right = 44.5
offset_bottom = 13.5
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(5.701163, 5.388457)
theme_override_fonts/font = ExtResource("6_5vw27")
theme_override_font_sizes/font_size = 8
text = "Press space
to play"

[node name="GameOverLayer" type="CanvasLayer" parent="."]
process_mode = 2

[node name="GameOverScreen" type="ColorRect" parent="GameOverLayer"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(29.007545, 16.950323)
color = Color(0.2524562, 0.25946972, 0.25946972, 1)

[node name="Button" type="Button" parent="GameOverLayer/GameOverScreen"]
modulate = Color(0.22745098, 0.7882353, 0.99607843, 1)
texture_filter = 1
layout_mode = 0
offset_left = 5.4123855
offset_top = 23.775358
offset_right = 151.41238
offset_bottom = 55.77536
scale = Vector2(0.19738986, 0.31375614)
theme_override_fonts/font = ExtResource("6_5vw27")
text = "Try Again"

[node name="Label" type="Label" parent="GameOverLayer/GameOverScreen"]
texture_filter = 1
layout_mode = 0
offset_left = 0.51710683
offset_top = 2.241845
offset_right = 154.5171
offset_bottom = 26.241844
scale = Vector2(0.25264803, 0.58789045)
theme_override_fonts/font = ExtResource("6_5vw27")
text = "GAME OVER"

[connection signal="pressed" from="GameOverLayer/GameOverScreen/Button" to="Player" method="_on_button_pressed"]
